{"name": "test_create_build_type", "status": "failed", "statusDetails": {"message": "AssertionError: Build type creation failed: Responding with error, status code: 403 (Forbidden).\n  Details: jetbrains.buildServer.serverSide.auth.AccessDeniedException: You do not have enough permissions to edit project with id: project_1740479488\n  Access denied. Check the user has enough permissions to perform the operation.\nassert 403 == 200\n +  where 403 = <Response [403]>.status_code", "trace": "self = <tests.test_build_config.TestBuildConfig object at 0x103736430>\n\n    @allure.story(\"User can create Build Type\")\n    @allure.description(\"User should be able to create build type\")\n    @pytest.mark.regression\n    @pytest.mark.positive\n    @pytest.mark.crud\n    def test_create_build_type(self):\n        with allure.step(\"Create user\"):\n            user_response = self.create_user(f\"user_{int(time.time())}\", \"pass123\")\n            assert user_response.status_code == 200, f\"User creation failed: {user_response.text}\"\n            user_id = user_response.json()[\"id\"]\n            user_auth = self.specs.auth_spec(User(username=user_response.json()[\"username\"], password=\"pass123\"))\n    \n        with allure.step(\"Create project by admin\"):\n            project_id = f\"project_{int(time.time())}\"\n            project_response = self.create_project(project_id, self.auth_spec)  # Используем admin:admin\n            assert project_response.status_code == 200, f\"Project creation failed: {project_response.text}\"\n    \n        with allure.step(\"Grant user PROJECT_DEVELOPER role in project\"):\n            role_response = self.grant_role(user_id, project_id, \"PROJECT_DEVELOPER\")\n            assert role_response.status_code == 200, f\"Role assignment failed: {role_response.text}\"\n    \n        with allure.step(\"Create build type for project by user\"):\n            build_type_id = f\"build_{int(time.time())}\"\n            build_response = self.create_build_type(build_type_id, project_id, user_auth)\n>           assert build_response.status_code == 200, f\"Build type creation failed: {build_response.text}\"\nE           AssertionError: Build type creation failed: Responding with error, status code: 403 (Forbidden).\nE             Details: jetbrains.buildServer.serverSide.auth.AccessDeniedException: You do not have enough permissions to edit project with id: project_1740479488\nE             Access denied. Check the user has enough permissions to perform the operation.\nE           assert 403 == 200\nE            +  where 403 = <Response [403]>.status_code\n\ntests/test_build_config.py:36: AssertionError"}, "description": "User should be able to create build type", "steps": [{"name": "Create user", "status": "passed", "start": 1740479488897, "stop": 1740479488989}, {"name": "Create project by admin", "status": "passed", "start": 1740479488989, "stop": 1740479489030}, {"name": "Grant user PROJECT_DEVELOPER role in project", "status": "passed", "start": 1740479489030, "stop": 1740479489073}, {"name": "Create build type for project by user", "status": "failed", "statusDetails": {"message": "AssertionError: Build type creation failed: Responding with error, status code: 403 (Forbidden).\n  Details: jetbrains.buildServer.serverSide.auth.AccessDeniedException: You do not have enough permissions to edit project with id: project_1740479488\n  Access denied. Check the user has enough permissions to perform the operation.\nassert 403 == 200\n +  where 403 = <Response [403]>.status_code\n", "trace": "  File \"/Users/mihailkulibaba/Desktop/work/side_task/wtf/M2_API/teamcity_api_tests/tests/test_build_config.py\", line 36, in test_create_build_type\n    assert build_response.status_code == 200, f\"Build type creation failed: {build_response.text}\"\n"}, "start": 1740479489073, "stop": 1740479489090}], "start": 1740479488897, "stop": 1740479489090, "uuid": "060bfd60-cce1-429c-bb27-d30739f603bf", "historyId": "6a40392c881f6d7333f6ce356278e379", "testCaseId": "6a40392c881f6d7333f6ce356278e379", "fullName": "tests.test_build_config.TestBuildConfig#test_create_build_type", "labels": [{"name": "epic", "value": "Build Configuration"}, {"name": "feature", "value": "Create Build Type"}, {"name": "story", "value": "User can create Build Type"}, {"name": "tag", "value": "crud"}, {"name": "tag", "value": "positive"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_build_config"}, {"name": "subSuite", "value": "TestBuildConfig"}, {"name": "host", "value": "MacBook-Air-Mihail.local"}, {"name": "thread", "value": "70997-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_build_config"}]}